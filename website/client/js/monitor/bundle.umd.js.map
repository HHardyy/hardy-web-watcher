{"version":3,"file":"bundle.umd.js","sources":["../../../../sdk/user-action/beh.js","../../../../sdk/index.js"],"sourcesContent":["/*\r\n * @Author: 小方块 \r\n * @Date: 2022-03-19 17:02:56 \r\n * @Last Modified by: 小方块\r\n * @Last Modified time: 2022-03-19 17:48:38\r\n * \r\n * 用户行为监控\r\n */\r\n\r\nconst getIdxLabel = (el) => {\r\n  let children = [].slice.call(el.parentNode.children).filter(c => c.tagName === el.tagName),\r\n    elIndex = null\r\n  for (let i = 0, len = children.length; i < len; i++) {\r\n    if (el === children[i]) elIndex = i\r\n  }\r\n  elIndex = `[${elIndex}]`\r\n  let tagName = el.tagName.toLowerCase()\r\n  let label = tagName + elIndex\r\n  return label\r\n}\r\n\r\nconst getxPath = (el) => {\r\n  let current = el, xpath = ''\r\n  while (current !== document.body) {\r\n    xpath += getIdxLabel(current)\r\n    current = current.parentNode\r\n  }\r\n  return xpath\r\n}\r\n\r\nexport default {\r\n  init: (cb) => {\r\n    document.addEventListener('click', function (event) {\r\n      let target = event.target\r\n      let xPath = target.tagName.toLowerCase() === 'html' ? 'html' : getxPath(target)\r\n      cb(xPath)\r\n    }, false)\r\n  }\r\n}\r\n","import perf from './tech-action/perf'\r\nimport resource from './tech-action/resource'\r\nimport xhr from './tech-action/xhr'\r\nimport errCatch from './tech-action/errorCatch'\r\n\r\nimport beh from './user-action/beh'\r\n\r\n// 1、技术监控 \r\n// perf.init((perfData) => {\r\n//   console.log('页面性能监控: ', perfData);\r\n// })\r\n\r\n// resource.init((resourceData) => {\r\n//   console.log('资源加载监控: ', resourceData);\r\n// })\r\n\r\n// xhr.init((xhrData) => {\r\n//   console.log('xhr || fetch 加载监控: ', xhrData);\r\n// })\r\n\r\n// errCatch.init((errData) => {\r\n//   console.log('errData: ', errData);\r\n// })\r\n\r\n// 2、用户行为监控\r\nbeh.init((clickPath) => {\r\n  console.log('user event:', clickPath);\r\n})"],"names":[],"mappings":";;;;;EAAA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA;EACA,MAAM,WAAW,GAAG,CAAC,EAAE,KAAK;EAC5B,EAAE,IAAI,QAAQ,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE,CAAC,OAAO,CAAC;EAC5F,IAAI,OAAO,GAAG,KAAI;EAClB,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;EACvD,IAAI,IAAI,EAAE,KAAK,QAAQ,CAAC,CAAC,CAAC,EAAE,OAAO,GAAG,EAAC;EACvC,GAAG;EACH,EAAE,OAAO,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAC;EAC1B,EAAE,IAAI,OAAO,GAAG,EAAE,CAAC,OAAO,CAAC,WAAW,GAAE;EACxC,EAAE,IAAI,KAAK,GAAG,OAAO,GAAG,QAAO;EAC/B,EAAE,OAAO,KAAK;EACd,EAAC;AACD;EACA,MAAM,QAAQ,GAAG,CAAC,EAAE,KAAK;EACzB,EAAE,IAAI,OAAO,GAAG,EAAE,EAAE,KAAK,GAAG,GAAE;EAC9B,EAAE,OAAO,OAAO,KAAK,QAAQ,CAAC,IAAI,EAAE;EACpC,IAAI,KAAK,IAAI,WAAW,CAAC,OAAO,EAAC;EACjC,IAAI,OAAO,GAAG,OAAO,CAAC,WAAU;EAChC,GAAG;EACH,EAAE,OAAO,KAAK;EACd,EAAC;AACD;AACA,YAAe;EACf,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK;EAChB,IAAI,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAU,KAAK,EAAE;EACxD,MAAM,IAAI,MAAM,GAAG,KAAK,CAAC,OAAM;EAC/B,MAAM,IAAI,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,MAAM,GAAG,MAAM,GAAG,QAAQ,CAAC,MAAM,EAAC;EACrF,MAAM,EAAE,CAAC,KAAK,EAAC;EACf,KAAK,EAAE,KAAK,EAAC;EACb,GAAG;EACH;;EC/BA;EACA;EACA;EACA;AACA;EACA;EACA;EACA;AACA;EACA;EACA;EACA;AACA;EACA;EACA;EACA;AACA;EACA;EACA,GAAG,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK;EACxB,EAAE,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;EACxC,CAAC;;;;;;"}